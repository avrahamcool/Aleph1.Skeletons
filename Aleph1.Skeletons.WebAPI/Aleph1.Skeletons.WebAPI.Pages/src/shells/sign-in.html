<template>
	<main class="p-4 md:p-8">
		<form submit.delegate="signIn()" class="flex-shrink-0 flex-start flex-col m-auto p-8 rounded-2 tw-shadow">
			<label
				class="flex-shrink-0 flex items-start md:items-center justify-start md:justify-between flex-col md:flex-row gap-0 md:gap-4 mb-2 md:mb-4">
				<span class="w-24 select-none">שם משתמש:</span>
				<input type="text" autocomplete="username" disabled.bind="signInPending" focus.one-time="!credentials.username"
					value.bind="credentials.username" class="tw-input dir-ltr text-left w-full md:flex-1" />
			</label>
			<label
				class="flex-shrink-0 flex items-start md:items-center justify-start md:justify-between flex-col md:flex-row gap-0 md:gap-4 mb-8 md:mb-4">
				<span class="w-24 select-none">סיסמה:</span>
				<input type="password" autocomplete="current-password" disabled.bind="signInPending"
					focus.one-time="credentials.username" value.bind="credentials.password"
					class="tw-input dir-ltr text-left w-full md:flex-1" lang="en" />
			</label>
			<div ref="wrapperElement" class="${!showAlert ? 'overflow-hidden' : ''} max-w-fit">
				<div ref="alertsElement" class="text-red-500 text-sm font-bold pb-8 md:pb-4">
					<span if.bind="capsLockModifier || hebrewModifier" class="ml-1">נא לשים לב:</span>${capsLockModifier ? "Caps
					Lock פעיל" : ""}${hebrewModifier ?
					((capsLockModifier ? ", וגם " : "") + "סיסמתך מכילה אותיות בעברית") : ""}${capsLockModifier || hebrewModifier
					? "!" : ""}
				</div>
			</div>
			<button type="submit" disabled.bind="signInDisabled" data-pending.bind="signInPending > 0"
				class="tw-button w-full flex-shrink-0">
				<div class="spinner absolute h-4 w-4 transition-opacity ${!signInPending ? 'opacity-0' : ''}"></div>
				<span class="absolute transition-opacity duration-75 ${signInPending > 0 ? 'opacity-0' : ''}">כניסה</span>
			</button>
		</form>
	</main>
</template>